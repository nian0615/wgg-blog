(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{366:function(s,n,a){"use strict";a.r(n);var e=a(43),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"《左手mongodb右手redis》-谢乾坤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#《左手mongodb右手redis》-谢乾坤"}},[s._v("#")]),s._v(" 《左手MongoDB右手Redis》-谢乾坤")]),s._v(" "),a("h2",{attrs:{id:"基础知识"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[s._v("#")]),s._v(" 基础知识")]),s._v(" "),a("h3",{attrs:{id:"安装与连接mongodb"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装与连接mongodb"}},[s._v("#")]),s._v(" 安装与连接MongoDB")]),s._v(" "),a("p",[s._v("安装mongodb, 我只关注了Linux的服务器，因为自己有一台阿里云的服务器，每年800+不能浪费，所以直接连接远程数据库。")]),s._v(" "),a("p",[s._v("最新的资料当然是官方文档，但是也是遇到了一些坑连接不上。")]),s._v(" "),a("p",[s._v("系统Ubuntu18.04安装过程："),a("a",{attrs:{href:"https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Guide"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('// 创建列表\necho "deb [ arch=amd64 ] https://repo.mongodb.org/apt/ubuntu bionic/mongodb-org/4.2 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-4.2.list\n\n// 更新本地软件包的数据\nsudo apt-get update\n\n// 安装\nsudo apt-get install -y mongodb-org\n\n// 禁止自动更新版本，可选。我选了，避免一些程序的错误\necho "mongodb-org hold" | sudo dpkg --set-selections\necho "mongodb-org-server hold" | sudo dpkg --set-selections\necho "mongodb-org-shell hold" | sudo dpkg --set-selections\necho "mongodb-org-mongos hold" | sudo dpkg --set-selections\necho "mongodb-org-tools hold" | sudo dpkg --set-selections\n\n//运行MongoDB\nsudo service mongod start\n\n// 检查MongoDB的状态\nsudo service mongod status\n\n// 停止运行\nsudo service mongod stop\n\n// 重启\nsudo service mongod restart\n\n// 运行shell\nmongo\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("p",[s._v("要连接阿里云，注意设置安全组开放27017端口入方向，并且Ubuntu18.04默认开启了防火墙，所以需要开放防火墙的27017端口：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo ufw allow 27017\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("然后MongoDB配置是默认运行在本地，在配置文件里修改：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("vi /etc/mongod.conf\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("按键盘的"),a("code",[s._v("i")]),s._v("进入编辑模式，把光标移到")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("net:\n\tport: 27017\n\tbindIp: 127.0.0.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("把"),a("code",[s._v("127.0.0.1")]),s._v(" 修改为"),a("code",[s._v("0.0.0.0")]),s._v(" 然后按"),a("code",[s._v("Esc")]),s._v(" 键输入"),a("code",[s._v(":wq!")]),s._v(" 回车")]),s._v(" "),a("p",[s._v("MongoDB没有设置密码，所以要添加用户来管理数据库")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('//进入MongoDB shell\nmongo\n\n// 切换db到admin\n> use admin\n\n// 添加用户\n> db.createUser({\n\tuser: "你要设定的用户名",\n\tpwd: "你要设定的密码",\n\troles: [{ role: "userAdminAnyDatabase", db: "admin"}],\n    mechanisms: ["SCRAM-SHA-1"]})\n   })\n   \n// 检查用户是否有效，返回为1为成功\n> db.auth("你设定过的用户名", "你设定过的密码")\n\n// 加入创建的时候写错了，你可以Ctrl + C终止，或者回车之后删除那个用户\n> db.dropUser("设置过的用户名")\n\n// 退出MongoDB shell\n> quit()\n\n// 这个非常重要！！！\nsudo service mongod restart\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("然后使用桌面工具"),a("a",{attrs:{href:"https://robomongo.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Robo 3T"),a("OutboundLink")],1),s._v("连接远程MongoDB，可视化管理里面的数据。")]),s._v(" "),a("p",[s._v("安装完后，左上角的小电脑里选择"),a("code",[s._v("Manage Connections")]),s._v(" ，然后创建，或者编辑")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://oss.hackslog.cn/coding/Snipaste_2019-11-16_13-24-41.png",alt:"manage connection"}})]),s._v(" "),a("p",[s._v("输入服务器的IP")]),s._v(" "),a("p",[a("img",{attrs:{src:"http://oss.hackslog.cn/coding/Snipaste_2019-11-16_13-23-34.png",alt:"ip"}})]),s._v(" "),a("p",[a("code",[s._v("Authentication")]),s._v(" 中输入账户密码，如果是admin的话可以创建和编辑里面的任意数据库，你也可以使用其他账户将他们的权限设置为读写就会安全些")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://huixiong.oss-cn-beijing.aliyuncs.com/coding/Snipaste_2019-11-16_13-24-15.png",alt:"password"}})]),s._v(" "),a("p",[s._v("保存之后就可以连接上了！！！")]),s._v(" "),a("h2",{attrs:{id:"快速入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速入门"}},[s._v("#")]),s._v(" 快速入门")]),s._v(" "),a("h2",{attrs:{id:"高级应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级应用"}},[s._v("#")]),s._v(" 高级应用")]),s._v(" "),a("h2",{attrs:{id:"商业实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#商业实战"}},[s._v("#")]),s._v(" 商业实战")])])}),[],!1,null,null,null);n.default=t.exports}}]);